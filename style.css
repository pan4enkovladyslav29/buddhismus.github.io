// Бургер-меню
document.querySelector('.burger').addEventListener('click', () => {
    document.querySelector('.nav-links').classList.toggle('active');
});
 
// Плавный скролл
document.querySelectorAll('nav a').forEach(link => {
    link.addEventListener('click', function(e) {
        e.preventDefault();
        document.querySelector(this.getAttribute('href')).scrollIntoView({ behavior: 'smooth' });
        document.querySelectorAll('nav a').forEach(a => a.classList.remove('active'));
        this.classList.add('active');
        document.querySelector('.nav-links').classList.remove('active');
    });
});
 
// Квиз
const questions = [
    {q: "Wie hieß der Buddha vor der Erleuchtung?", a: "Siddhartha Gautama"},
    {q: "Was bedeutet „Buddha“?", a: "Der Erwachte"},
    {q: "Wie viele Edle Wahrheiten gibt es?", a: "4"},
    {q: "Wie viele Schritte hat der Edle Achtfache Pfad?", a: "8"},
    {q: "Wie heißt die heilige Schrift?", a: "Tripitaka"},
    {q: "Welche Farbe haben Mönchsroben meistens?", a: "Orange"},
    {q: "Wie heißt ein buddhistischer Tempel oft?", a: "Wat"},
    {q: "Welche Blume steht für Reinheit?", a: "Lotusblume"},
    {q: "Welches Rad symbolisiert die Lehre?", a: "Dharmachakra"},
    {q: "Unter welchem Baum wurde Buddha erleuchtet?", a: "Bodhi-Baum"},
    {q: "Was bedeutet der Endlose Knoten?", a: "Alles ist verbunden"},
    {q: "Was macht das Muschelhorn?", a: "Der Klang der Wahrheit"}
];
 
let current = 0;
let score = 0;
 
document.getElementById('startQuiz').onclick = () => {
    document.getElementById('quizContainer').classList.add('active');
    document.getElementById('startQuiz').style.display = 'none';
    showQuestion();
};
 
function showQuestion() {
    if (current >= questions.length) {
        showResult();
        return;
    }
 
    // Прогресс
    const percent = ((current + 1) / questions.length) * 100;
    document.querySelector('#progressBar::before').style.width = percent + '%';
    document.getElementById('progressText').textContent = `Frage \( {current + 1} von \){questions.length}`;
 
    document.getElementById('question').textContent = questions[current].q;
 
    const opts = document.getElementById('options');
    opts.innerHTML = '';
 
    const answers = [questions[current].a, "Nirvana", "Karma", "Dharma"].sort(() => Math.random() - 0.5);
 
    answers.forEach(ans => {
        const div = document.createElement('div');
        div.textContent = ans;
        div.onclick = () => selectAnswer(ans === questions[current].a, div);
        opts.appendChild(div);
    });
 
    document.getElementById('nextBtn').style.display = 'none';
    document.getElementById('result').style.display = 'none';
}
 
function selectAnswer(correct, el) {
    if (correct) score++;
 
    // Показать правильно/неправильно
    document.querySelectorAll('#options div').forEach(d => {
        if (d.textContent === questions[current].a) d.classList.add('correct');
        else d.classList.add('wrong');
        d.onclick = null;
    });
 
    document.getElementById('nextBtn').style.display = 'block';
}
 
document.getElementById('nextBtn').onclick = () => {
    current++;
    showQuestion();
};
 
function showResult() {
    document.getElementById('question').textContent = 'Fertig!';
    document.getElementById('options').innerHTML = '';
    document.getElementById('nextBtn').style.display = 'none';
    document.getElementById('result').style.display = 'block';
    document.getElementById('scoreText').textContent = `\( {score} von \){questions.length} richtig`;
}
